#/usr/bin/bash
# available tag names = ur5_simulation, drone_simulation, amr_simulation, base_image, base_image_yolo 

# stop and remove old container
docker stop base_image_yolo_container 2>/dev/null || true
docker rm base_image_yolo_container 2>/dev/null || true

xhost +local:root 
docker run -it --network='host' \
-p 80:80 \
-p 9090:9090 \
--env='DISPLAY' \
--env='QT_X11_NO_MITSHM=1' \
--env='XDG_RUNTIME_DIR=/run/user/${UID}' \
--volume='/tmp/.X11-unix:/tmp/.X11-unix:rw' \
--name base_image_yolo_container \
romrobotics/humble_production:base_image_yolo bash
docker stop base_image_yolo_container docker rm base_image_yolo_container

# cleanup after exit
docker stop base_image_yolo_container
docker rm base_image_yolo_container